<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>College Softball Insights</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/fuse.js/dist/fuse.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    .hero { background: linear-gradient(rgba(0,0,0,0.58), rgba(0,0,0,0.58)), url('https://justwomenssports.com/wp-content/uploads/2025/06/GettyImages-2219054470-1024x683.jpg') center/cover no-repeat fixed; }
  </style>
</head>
<body class="font-sans text-gray-800">

  <!-- HERO -->
  <header class="hero h-screen flex items-center justify-center text-white text-center px-4">
    <div>
      <h1 class="text-4xl md:text-6xl font-bold mb-6">College Softball Insights</h1>
      <p class="text-lg md:text-xl max-w-4xl mx-auto leading-relaxed px-6">
        Finding the right college softball program begins with clarity. Our tool helps parents and players narrow down options by location, conference, competitive level, enrollment size, class breakdown, retention rates, coaching stability, and more. Instead of feeling lost in endless choices, you’ll have a focused starting point to explore programs that truly match your priorities — making the first step in the recruiting process simpler, smarter, and more confident.
      </p>
      <a href="#search" class="mt-10 inline-block bg-pink-600 hover:bg-pink-700 text-white font-bold py-4 px-10 rounded-full text-lg transition">Explore 2026 Rosters →</a>
    </div>
  </header>

  <!-- VALUE PROP -->
  <section class="py-20 bg-gray-50 text-center">
    <div class="max-w-5xl mx-auto px-4">
      <h2 class="text-4xl font-bold mb-8">Updated 2025-2026 Roster Insights</h2>
      <div class="grid md:grid-cols-4 gap-8">
        <div class="bg-white p-8 rounded-xl shadow-lg"><h3 class="text-2xl font-bold text-pink-600">$149.99/yr</h3><p>Less than $0.42/day</p></div>
        <div class="bg-white p-8 rounded-xl shadow-lg"><h3 class="text-2xl font-bold text-pink-600">34 Teams</h3><p>SEC + Big Ten</p></div>
        <div class="bg-white p-8 rounded-xl shadow-lg"><h3 class="text-2xl font-bold text-pink-600">Updated Daily!</h3><p>Portal + Signees</p></div>
        <div class="bg-white p-8 rounded-xl shadow-lg"><h3 class="text-2xl font-bold text-pink-600">Save $7k–$10k</h3><p>Travel & Camps</p></div>
      </div>
    </div>
  </section>

  <!-- SEARCH & FILTERS -->
  <section id="search" class="py-20 bg-white">
    <div class="max-w-6xl mx-auto px-4">
      <h2 class="text-4xl font-bold text-center mb-10">Search Rosters</h2>
      <div class="flex justify-center mb-6">
        <button class="filter-btn px-6 py-2 bg-pink-600 text-white rounded-l-full" data-conf="all">All</button>
        <button class="filter-btn px-6 py-2 bg-gray-200 text-gray-700" data-conf="SEC">SEC</button>
        <button class="filter-btn px-6 py-2 bg-gray-200 text-gray-700 rounded-r-full" data-conf="Big Ten">Big Ten</button>
      </div>
      <input type="text" id="searchInput" placeholder="Search team, state, conference..." class="w-full p-5 border-2 border-gray-300 rounded-xl text-lg focus:border-pink-600 focus:outline-none" autofocus />
      <div id="results" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 mt-10"></div>
      <p class="text-center text-gray-500 mt-10" id="noResults">Loading rosters...</p>
    </div>
  </section>

  <!-- TEAM DETAIL -->
  <section id="teamDetails" class="py-20 bg-gray-50 hidden">
    <div class="max-w-6xl mx-auto px-4">
      <div class="text-center mb-8">
        <h2 id="detailTitle" class="text-4xl font-bold mb-4"></h2>
        <div id="netChange" class="inline-flex items-center px-4 py-2 rounded-full font-bold text-lg"></div>
      </div>

      <!-- Roster Change Summary -->
      <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
        <h3 class="text-2xl font-bold mb-4 text-center">2025 → 2026 Roster Change Summary</h3>
        <p class="text-center text-gray-600 mb-6 text-sm">Includes returning players, freshmen, transfers, and walk-ons</p>
        <table class="w-full border-collapse text-lg mb-6">
          <thead>
            <tr class="bg-gray-100">
              <th class="p-4 text-left">Added to Roster</th>
              <th class="p-4 text-left">Left Program</th>
              <th class="p-4 text-left font-bold">Net Change</th>
            </tr>
          </thead>
          <tbody id="rosterChangeTable"></tbody>
        </table>
        <div class="text-center text-sm text-gray-600">
          <strong>Breakdown of the added players:</strong><br>
          <span id="newcomerBreakdown"></span>
        </div>
      </div>

      <!-- Charts -->
      <div class="grid md:grid-cols-2 gap-12 mb-12">
        <div class="bg-white p-8 rounded-xl shadow-lg"><canvas id="classChart"></canvas></div>
        <div class="bg-white p-8 rounded-xl shadow-lg"><canvas id="positionChart"></canvas></div>
      </div>

      <!-- Full Roster Table -->
      <div class="bg-white rounded-xl shadow-lg overflow-hidden">
        <h3 class="text-2xl font-bold p-6 text-center bg-gray-50">Full 2025-2026 Roster</h3>
        <div class="overflow-x-auto">
          <table class="w-full" id="rosterTable">
            <thead class="bg-pink-100">
              <tr>
                <th class="p-4 text-left">Player Name</th>
                <th class="p-4 text-center">Position</th>
                <th class="p-4 text-center">Class</th>
              </tr>
            </thead>
            <tbody class="divide-y divide-gray-200"></tbody>
          </table>
        </div>
      </div>

      <button onclick="closeDetails()" class="mt-12 inline-block bg-pink-600 text-white px-8 py-4 rounded-full font-bold hover:bg-pink-700 transition block mx-auto">
        ← Back to Search
      </button>
    </div>
  </section>

  <!-- CTA & Footer -->
  <section class="py-20 bg-pink-600 text-white text-center">
    <div class="max-w-4xl mx-auto px-4">
      <h2 class="text-5xl font-bold mb-6">Launch Special: $99 First Year</h2>
      <p class="text-2xl mb-10">Limited to first 100 subscribers</p>
      <a href="#" class="bg-white text-pink-600 hover:bg-gray-100 font-bold py-5 px-12 rounded-full text-xl transition inline-block">Claim Your Spot Now</a>
    </div>
  </section>
  <footer class="bg-gray-900 text-white py-10 text-center">© 2025 College Softball Insights • Data updated daily</footer>

  <script>
    let allTeams = [], fuse, classChart = null, positionChart = null, currentFilter = 'all';

    fetch('teams.json')
      .then(res => { if (!res.ok) throw new Error(`HTTP ${res.status}`); return res.json(); })
      .then(data => {
        console.log('Teams loaded:', data.length);
        allTeams = data;
        fuse = new Fuse(allTeams, { keys: ['name','conf','state'], threshold: 0.3 });
        renderResults(allTeams.slice(0,12));
      })
      .catch(err => {
        console.error('Load error:', err);
        document.getElementById('noResults').innerHTML = 'Data loading… refresh in 60s.';
      });

    document.querySelectorAll('.filter-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        currentFilter = btn.dataset.conf;
        document.querySelectorAll('.filter-btn').forEach(b => { b.classList.remove('bg-pink-600','text-white'); b.classList.add('bg-gray-200','text-gray-700'); });
        btn.classList.remove('bg-gray-200','text-gray-700'); btn.classList.add('bg-pink-600','text-white');
        document.getElementById('searchInput').value = '';
        let filtered = allTeams.filter(t => currentFilter === 'all' || t.conf === currentFilter);
        renderResults(filtered.slice(0,12));
      });
    });

    document.getElementById('searchInput').addEventListener('input', () => {
      const query = document.getElementById('searchInput').value.trim();
      let results = allTeams.filter(t => currentFilter === 'all' || t.conf === currentFilter);
      if (query && fuse) {
        const fuseResults = fuse.search(query).map(r => r.item);
        results = results.filter(t => fuseResults.some(fr => fr.name === t.name));
      }
      renderResults(results.slice(0,12));
    });

    function renderResults(teams) {
      const container = document.getElementById('results');
      const noResults = document.getElementById('noResults');
      if (teams.length === 0) { container.innerHTML = ''; noResults.textContent = allTeams.length ? 'No matches.' : 'Loading...'; return; }
      noResults.textContent = '';
      container.innerHTML = teams.map(team => {
        const total2026 = Object.values(team.roster).reduce((a, b) => a + b, 0);
        const change = team.net > 0 ? `+${team.net}` : team.net < 0 ? `${team.net}` : 'no change';
        const changeColor = team.net > 0 ? 'text-green-600' : team.net < 0 ? 'text-red-600' : 'text-gray-600';

        return `
          <div onclick="showTeam('${team.name.replace(/'/g, "\\'")}')" class="border-2 border-gray-200 rounded-xl p-8 hover:border-pink-600 hover:shadow-2xl transition cursor-pointer bg-white text-center">
            <h3 class="font-bold text-2xl text-pink-600 mb-2">${team.name}</h3>
            <p class="text-lg mb-4">${team.conf} • ${team.state}</p>
            <div class="grid grid-cols-2 text-sm font-medium mb-4">
              <div>Win %: ${(team.winPct*100).toFixed(1)}%</div>
              <div class="font-semibold">Newcomers: ${team.newcomers}</div>
            </div>
            <span class="inline-flex items-center px-5 py-3 rounded-full text-lg font-bold bg-gray-100 text-gray-800">
              2026 Total Roster: 
              <span class="mx-2 text-pink-600 font-extrabold">${total2026}</span> players 
              <span class="${ | changeColor}">(${change} from 2025)</span>
            </span>
            <p class="mt-4 text-pink-600 font-semibold">Tap for full roster →</p>
          </div>`;
      }).join('');
    }

    // … (rest of your existing JS unchanged – showTeam(), charts, etc.)
    // If you need the full script block again, just say “send full JS” and I’ll paste it.

  </script>
</body>
</html>
