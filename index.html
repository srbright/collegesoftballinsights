<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>College Softball Insights</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/fuse.js/dist/fuse.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <style>
    .hero { background: linear-gradient(rgba(0,0,0,0.55), rgba(0,0,0,0.55)), url('https://images.unsplash.com/photo-1595433975016-2c3e9b9b2a1f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80') center/cover; }
  </style>
</head>
<body class="font-sans text-gray-800">

  <!-- HERO -->
  <header class="hero h-screen flex items-center justify-center text-white text-center px-4">
    <div>
      <h1 class="text-4xl md:text-6xl font-bold mb-4">College Softball Insights</h1>
      <p class="text-xl md:text-2xl mb-8">Research any program in under 60 seconds. Save thousands on recruiting.</p>
      <a href="#search" class="bg-pink-600 hover:bg-pink-700 text-white font-bold py-4 px-10 rounded-full text-lg transition">Start Searching Now</a>
    </div>
  </header>

  <!-- VALUE PROP -->
  <section class="py-20 bg-gray-50 text-center">
    <div class="max-w-5xl mx-auto px-4">
      <h2 class="text-4xl font-bold mb-8">Real Data. Real Fast.</h2>
      <div class="grid md:grid-cols-4 gap-8">
        <div class="bg-white p-8 rounded-xl shadow-lg"><h3 class="text-2xl font-bold text-pink-600">$149.99/yr</h3><p>Less than $0.42/day</p></div>
        <div class="bg-white p-8 rounded-xl shadow-lg"><h3 class="text-2xl font-bold text-pink-600">1,200+ Teams</h3><p>D1 · D2 · D3 · NAIA · JUCO</p></div>
        <div class="bg-white p-8 rounded-xl shadow-lg"><h3 class="text-2xl font-bold text-pink-600">Weekly Updates</h3><p>Always current rosters</p></div>
        <div class="bg-white p-8 rounded-xl shadow-lg"><h3 class="text-2xl font-bold text-pink-600">Save $7k–$10k</h3><p>On travel & showcases</p></div>
      </div>
    </div>
  </section>

  <!-- SEARCH -->
  <section id="search" class="py-20 bg-white">
    <div class="max-w-6xl mx-auto px-4">
      <h2 class="text-4xl font-bold text-center mb-10">Find Your Perfect Fit</h2>
      <input type="text" id="searchInput" placeholder="Search by team, conference, state..." class="w-full p-5 border-2 border-gray-300 rounded-xl text-lg focus:border-pink-600 focus:outline-none" />
      <div id="results" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 mt-10"></div>
      <p class="text-center text-gray-500 mt-10" id="noResults">Start typing to see real 2025 teams...</p>
    </div>
  </section>

  <!-- SAMPLE CHARTS (updates when you click a team) -->
  <section class="py-20 bg-gray-50 hidden" id="teamDetails">
    <div class="max-w-5xl mx-auto px-4 text-center">
      <h2 id="detailTitle" class="text-4xl font-bold mb-10"></h2>
      <div class="grid md:grid-cols-2 gap-12">
        <canvas id="classChart"></canvas>
        <canvas id="positionChart"></canvas>
      </div>
      <button onclick="document.getElementById('teamDetails').classList.add('hidden')" class="mt-10 text-pink-600 font-bold">← Back to search</button>
    </div>
  </section>

  <!-- CTA -->
  <section class="py-20 bg-pink-600 text-white text-center">
    <div class="max-w-4xl mx-auto px-4">
      <h2 class="text-5xl font-bold mb-6">Launch Special: $99 First Year</h2>
      <p class="text-2xl mb-10">Limited to first 100 subscribers</p>
      <a href="https://buy.stripe.com/test_..." class="bg-white text-pink-600 hover:bg-gray-100 font-bold py-5 px-12 rounded-full text-xl transition inline-block">Claim Your Spot Now</a>
    </div>
  </section>

  <footer class="bg-gray-900 text-white py-10 text-center">
    © 2025 College Softball Insights • All rights reserved
  </footer>

  <script>
    let allTeams = [];
    let fuse;

    // Load teams.json
    fetch('teams.json')
      .then(res => res.json())
      .then(data => {
        allTeams = data;
        fuse = new Fuse(allTeams, {
          keys: ['name', 'conf', 'state'],
          threshold: 0.3
        });
      });

    const searchInput = document.getElementById('searchInput');
    const resultsDiv = document.getElementById('results');
    const noResults = document.getElementById('noResults');

    searchInput.addEventListener('input', () => {
      const query = searchInput.value.trim();
      if (!fuse) return;
      const result = query ? fuse.search(query).map(r => r.item) : [];
      renderResults(result.length ? result : allTeams.slice(0, 12));
    });

    function renderResults(teams) {
      if (teams.length === 0) {
        resultsDiv.innerHTML = '';
        noResults.textContent = 'No teams found.';
        return;
      }
      noResults.textContent = '';
      resultsDiv.innerHTML = teams.map(t => `
        <div onclick="showTeam('${t.name}')" class="border-2 border-gray-200 rounded-xl p-6 hover:border-pink-600 hover:shadow-xl transition cursor-pointer bg-white">
          <h3 class="font-bold text-2xl text-pink-600">${t.name}</h3>
          <p class="text-lg">${t.conf} • ${t.state}</p>
          <div class="mt-4 grid grid-cols-2 text-sm">
            <div><strong>Win %:</strong> ${(t.winPct*100).toFixed(1)}%</div>
            <div><strong>Transfers:</strong> ${t.transfers}</div>
          </div>
          <p class="mt-4 text-pink-600 font-bold">Click for full roster breakdown →</p>
        </div>
      `).join('');
    }

    window.showTeam = function(name) {
      const team = allTeams.find(t => t.name === name);
      if (!team) return;

      document.getElementById('detailTitle').textContent = `${team.name} • 2025 Roster`;
      document.getElementById('teamDetails').classList.remove('hidden');
      document.getElementById('search').scrollIntoView();

      // Class chart
      new Chart(document.getElementById('classChart'), {
        type: 'doughnut',
        data: {
          labels: ['Fr', 'So', 'Jr', 'Sr', 'Gr'],
          datasets: [{ data: Object.values(team.roster), backgroundColor: ['#FF6B6B','#4ECDC4','#45B7D1','#96CEB4','#FECA57'] }]
        },
        options: { plugins: { title: { display: true, text: 'Class Distribution' } } }
      });

      // Position chart
      new Chart(document.getElementById('positionChart'), {
        type: 'bar',
        data: {
          labels: Object.keys(team.positions),
          datasets: [{ label: 'Players', data: Object.values(team.positions), backgroundColor: '#FF6B6B' }]
        },
        options: { plugins: { title: { display: true, text: 'Position Count' } } }
      });
    };

    // Show a few teams on first load
    setTimeout(() => renderResults(allTeams.slice(0,6)), 1000);
  </script>
</body>
</html>
